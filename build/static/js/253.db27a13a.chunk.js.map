{"version":3,"file":"static/js/253.db27a13a.chunk.js","mappings":"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","sources":["components/places/components/Form.js","components/places/pages/AddPlaces.js"],"sourcesContent":["import React, { useCallback, useState } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { actionCreators } from \"../../../state/index\";\r\nimport { useHttpClient } from \"../../../hooks/fetchCall\";\r\nimport FormButton from \"../../shared/components/FormButton\";\r\nimport Input from \"../../shared/components/Input\";\r\nimport Loading from \"../../shared/components/Loading\";\r\nimport ImageUpload from \"../../shared/components/ImageUpload\";\r\n\r\nfunction Form() {\r\n  const { activateAlert, removeAlert } = bindActionCreators(\r\n    actionCreators,\r\n    useDispatch()\r\n  );\r\n  const navigate = useNavigate();\r\n  const { userLogin } = useSelector((state) => state);\r\n  const { userId, token } = userLogin;\r\n  const { loading, sendRequest } = useHttpClient();\r\n\r\n  const [placeDetails, setPlaceDetails] = useState({\r\n    name: \"\",\r\n    address: \"\",\r\n    description: \"\",\r\n    image: \"\",\r\n  });\r\n\r\n  const [isValid, setIsValid] = useState(false);\r\n\r\n  const { name, description, address, image } = placeDetails;\r\n\r\n  const handlenameChnage = useCallback(\r\n    (name, id) => {\r\n      setPlaceDetails({\r\n        ...placeDetails,\r\n        [id]: name,\r\n      });\r\n      checkValid(name, description, address, image);\r\n    },\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    [placeDetails]\r\n  );\r\n\r\n  const handleAddressChnage = useCallback(\r\n    (address, id) => {\r\n      setPlaceDetails({\r\n        ...placeDetails,\r\n        [id]: address,\r\n      });\r\n      checkValid(name, description, address, image);\r\n    },\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    [placeDetails]\r\n  );\r\n\r\n  const handleDescriptionChnage = useCallback(\r\n    (description, id) => {\r\n      setPlaceDetails({\r\n        ...placeDetails,\r\n        [id]: description,\r\n      });\r\n      checkValid(name, description, address, image);\r\n    },\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    [placeDetails]\r\n  );\r\n\r\n  const handleImage = useCallback(\r\n    (image, id) => {\r\n      setPlaceDetails({\r\n        ...placeDetails,\r\n        [id]: image,\r\n      });\r\n      checkValid(name, description, address, image);\r\n    },\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    [placeDetails]\r\n  );\r\n\r\n  const handleSubmition = async (event) => {\r\n    event.preventDefault();\r\n    const formData = new FormData();\r\n    formData.append(\"title\", name);\r\n    formData.append(\"descrition\", description);\r\n    formData.append(\"address\", address);\r\n    formData.append(\"userID\", userId);\r\n    formData.append(\"image\", image);\r\n    try {\r\n      const response = await sendRequest(\"api/places/\", \"POST\", formData, {\r\n        Authorization: \"Breare \" + token,\r\n      });\r\n      if (response.success) {\r\n        activateAlert(\"Place is successfully added!\", \"Success\");\r\n        setTimeout(() => {\r\n          removeAlert();\r\n        }, 2000);\r\n        navigate(`/${userId}/places`);\r\n      } else {\r\n        activateAlert(\"Something is wrong, try again later!\", \"Danger\");\r\n        setTimeout(() => {\r\n          removeAlert();\r\n        }, 2000);\r\n      }\r\n    } catch (err) {}\r\n  };\r\n\r\n  const checkValid = (name, des, add, image) => {\r\n    if (name.length >= 2 && des.length >=8  && add.length >= 5 && image.name) {\r\n      setIsValid(true);\r\n    } else {\r\n      setIsValid(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      {loading && <Loading />}\r\n      <form onSubmit={handleSubmition}>\r\n        <Input\r\n          title=\"Name of Place\"\r\n          id=\"name\"\r\n          type=\"text\"\r\n          placeholder=\"Enter name of place\"\r\n          required={true}\r\n          onInput={handlenameChnage}\r\n          length={5}\r\n        />\r\n        <Input\r\n          title=\"Address\"\r\n          id=\"address\"\r\n          type=\"text\"\r\n          placeholder=\"Enter address of place\"\r\n          required={true}\r\n          onInput={handleAddressChnage}\r\n          length={10}\r\n        />\r\n        <Input\r\n          title=\"Description\"\r\n          id=\"description\"\r\n          type=\"text\"\r\n          placeholder=\"Write something about it\"\r\n          required={true}\r\n          textarea={true}\r\n          onInput={handleDescriptionChnage}\r\n          length={20}\r\n        />\r\n        <ImageUpload id=\"image\" onInput={handleImage} />\r\n\r\n        <FormButton\r\n          name=\"Add Place\"\r\n          outline={true}\r\n          type=\"primary\"\r\n          activate={isValid}\r\n        />\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Form;\r\n","import React, { useEffect } from \"react\";\r\nimport Form from \"../components/Form\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nfunction AddPlaces() {\r\n  const navigate = useNavigate();\r\n  const { userLogin } = useSelector((state) => state);\r\n  const { userId } = userLogin;\r\n  useEffect(() => {\r\n    if (!userId) {\r\n      navigate(\"/\");\r\n    }\r\n  }, [userId, navigate]);\r\n\r\n  return (\r\n    <div className=\"container my-3\" style={{ width: \"70vw\" }}>\r\n      <h2 className=\"text-center my-2\">Add New Place Here</h2>\r\n      <Form />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AddPlaces;\r\n"],"names":["_bindActionCreators","bindActionCreators","actionCreators","useDispatch","activateAlert","removeAlert","navigate","useNavigate","userLogin","useSelector","state","userId","token","_useHttpClient","useHttpClient","loading","sendRequest","_useState","useState","name","address","description","image","_useState2","_slicedToArray","placeDetails","setPlaceDetails","_useState3","_useState4","isValid","setIsValid","handlenameChnage","useCallback","id","_objectSpread","_defineProperty","checkValid","handleAddressChnage","handleDescriptionChnage","handleImage","handleSubmition","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","event","formData","wrap","_context","prev","next","preventDefault","FormData","append","Authorization","sent","success","setTimeout","concat","t0","stop","_x","apply","arguments","des","add","length","_jsxs","children","_jsx","Loading","onSubmit","Input","title","type","placeholder","required","onInput","textarea","ImageUpload","FormButton","outline","activate","useEffect","className","style","width","Form"],"sourceRoot":""}