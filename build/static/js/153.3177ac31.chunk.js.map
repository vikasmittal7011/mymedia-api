{"version":3,"file":"static/js/153.3177ac31.chunk.js","mappings":"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","sources":["components/users/pages/Register.js"],"sourcesContent":["import React from \"react\";\r\nimport Input from \"../../shared/components/Input\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { useState } from \"react\";\r\nimport FormButton from \"../../shared/components/FormButton\";\r\nimport Button from \"../../shared/components/Button\";\r\nimport { useCallback } from \"react\";\r\nimport Loading from \"../../shared/components/Loading\";\r\nimport { actionCreators } from \"../../../state/index\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { useHttpClient } from \"../../../hooks/fetchCall\";\r\nimport ImageUpload from \"../../shared/components/ImageUpload\";\r\n\r\nfunction Register() {\r\n  const navigate = useNavigate();\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const { activateAlert, removeAlert } = bindActionCreators(\r\n    actionCreators,\r\n    dispatch\r\n  );\r\n\r\n  const { loading, sendRequest } = useHttpClient();\r\n\r\n  const [userIsValid, setuserIsValid] = useState(false);\r\n\r\n  const [userDetails, setUserDetails] = useState({\r\n    name: \"\",\r\n    email: \"\",\r\n    password: \"password\",\r\n    confirmPassword: \"confimpassword\",\r\n    image: \"\",\r\n  });\r\n\r\n  const { name, email, password, confirmPassword, image } = userDetails;\r\n\r\n  const handleName = useCallback(\r\n    (name, id) => {\r\n      setUserDetails({\r\n        ...userDetails,\r\n        [id]: name,\r\n      });\r\n      checkUserDetails(name, email, password, confirmPassword, image);\r\n    }, // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    [userDetails]\r\n  );\r\n\r\n  const handleEmail = useCallback(\r\n    (email, id) => {\r\n      setUserDetails({\r\n        ...userDetails,\r\n        [id]: email,\r\n      });\r\n      checkUserDetails(name, email, password, confirmPassword, image);\r\n    }, // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    [userDetails]\r\n  );\r\n\r\n  const handlePassword = useCallback(\r\n    (password, id) => {\r\n      setUserDetails({\r\n        ...userDetails,\r\n        [id]: password,\r\n      });\r\n      checkUserDetails(name, email, password, confirmPassword, image);\r\n    }, // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    [userDetails]\r\n  );\r\n\r\n  const handleConfirmPassword = useCallback(\r\n    (cPassword, id) => {\r\n      setUserDetails({\r\n        ...userDetails,\r\n        [id]: cPassword,\r\n      });\r\n      checkUserDetails(name, email, password, cPassword, image);\r\n    }, // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    [userDetails]\r\n  );\r\n\r\n  const handleImage = useCallback(\r\n    (image, id) => {\r\n      setUserDetails({\r\n        ...userDetails,\r\n        [id]: image,\r\n      });\r\n      checkUserDetails(name, email, password, confirmPassword, image);\r\n    },\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    [userDetails]\r\n  );\r\n\r\n  const checkUserDetails = (name, email, password, cpassword, image) => {\r\n    let atTheRate = email.indexOf(\"@\");\r\n    let dot = email.indexOf(\".\");\r\n    if (\r\n      name.length >= 3 &&\r\n      atTheRate > 3 &&\r\n      dot > atTheRate + 3 &&\r\n      image.name\r\n    ) {\r\n      if (password === cpassword) {\r\n        setuserIsValid(true);\r\n      } else {\r\n        setuserIsValid(false);\r\n      }\r\n    } else {\r\n      setuserIsValid(false);\r\n    }\r\n  };\r\n\r\n  const handleFormSubmit = async (event) => {\r\n    event.preventDefault();\r\n    const formData = new FormData();\r\n    formData.append(\"name\", name);\r\n    formData.append(\"email\", email);\r\n    formData.append(\"password\", password);\r\n    formData.append(\"image\", image);\r\n    try {\r\n      const response = await sendRequest(\r\n        \"api/users/register\",\r\n        \"POST\",\r\n        formData\r\n      );\r\n      const { message, success } = response;\r\n      if (!success) {\r\n        activateAlert(message, \"Danger\");\r\n        setTimeout(() => {\r\n          removeAlert(null);\r\n        }, 5000);\r\n      } else {\r\n        activateAlert(message, \"Success\");\r\n        setTimeout(() => {\r\n          removeAlert(null);\r\n        }, 2000);\r\n        navigate(\"/login\");\r\n      }\r\n    } catch (err) {\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return <Loading />;\r\n  }\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <div className=\"container\">\r\n        <h2 className=\"text-center\">Register Yourself !!!</h2>\r\n        <div className=\"container w-75\">\r\n          <form\r\n            enctype=\"multipart/form-data\"\r\n            className=\"mt-2\"\r\n            onSubmit={handleFormSubmit}\r\n          >\r\n            <Input\r\n              title=\"Name\"\r\n              type=\"text\"\r\n              id=\"name\"\r\n              required={true}\r\n              placeholder=\"Enter your name...\"\r\n              onInput={handleName}\r\n              length={3}\r\n            />\r\n            <Input\r\n              title=\"Email\"\r\n              type=\"email\"\r\n              id=\"email\"\r\n              required={true}\r\n              placeholder=\"Enter your email...\"\r\n              onInput={handleEmail}\r\n            />\r\n            <Input\r\n              title=\"Password\"\r\n              type=\"password\"\r\n              id=\"password\"\r\n              required={true}\r\n              placeholder=\"Enter your password...\"\r\n              onInput={handlePassword}\r\n              length={8}\r\n            />\r\n            <Input\r\n              title=\"Confirm Password\"\r\n              type=\"password\"\r\n              id=\"confirmPassword\"\r\n              placeholder=\"Confirm your password...\"\r\n              required={true}\r\n              onInput={handleConfirmPassword}\r\n              length={8}\r\n            />\r\n            <ImageUpload id=\"image\" onInput={handleImage} />\r\n            <div className=\"text-center mt-4\">\r\n              <FormButton\r\n                name=\"Register\"\r\n                type=\"primary\"\r\n                activate={userIsValid}\r\n              />\r\n              <Button\r\n                name=\"Login\"\r\n                type=\"success\"\r\n                onClick={() => {\r\n                  navigate(\"/login\");\r\n                }}\r\n              />\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nexport default Register;\r\n"],"names":["navigate","useNavigate","dispatch","useDispatch","_bindActionCreators","bindActionCreators","actionCreators","activateAlert","removeAlert","_useHttpClient","useHttpClient","loading","sendRequest","_useState","useState","_useState2","_slicedToArray","userIsValid","setuserIsValid","_useState3","name","email","password","confirmPassword","image","_useState4","userDetails","setUserDetails","handleName","useCallback","id","_objectSpread","_defineProperty","checkUserDetails","handleEmail","handlePassword","handleConfirmPassword","cPassword","handleImage","cpassword","atTheRate","indexOf","dot","length","handleFormSubmit","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","event","formData","response","message","wrap","_context","prev","next","preventDefault","FormData","append","sent","success","setTimeout","t0","stop","_x","apply","arguments","_jsx","Loading","React","children","_jsxs","className","enctype","onSubmit","Input","title","type","required","placeholder","onInput","ImageUpload","FormButton","activate","Button","onClick"],"sourceRoot":""}