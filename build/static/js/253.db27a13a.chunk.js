"use strict";(self.webpackChunksocial_media=self.webpackChunksocial_media||[]).push([[253],{9253:function(e,t,n){n.r(t),n.d(t,{default:function(){return j}});var a=n(2791),r=n(4165),s=n(5861),i=n(4942),c=n(1413),u=n(9439),o=n(9434),l=n(7781),d=n(7689),p=n(4722),f=n(3680),m=n(6154),h=n(7196),Z=n(1892),x=n(7501),v=n(184);var g=function(){var e=(0,l.DE)(p,(0,o.I0)()),t=e.activateAlert,n=e.removeAlert,g=(0,d.s0)(),j=(0,o.v9)((function(e){return e})).userLogin,k=j.userId,y=j.token,b=(0,f.x)(),w=b.loading,I=b.sendRequest,A=(0,a.useState)({name:"",address:"",description:"",image:""}),C=(0,u.Z)(A,2),D=C[0],S=C[1],P=(0,a.useState)(!1),q=(0,u.Z)(P,2),E=q[0],N=q[1],T=D.name,L=D.description,_=D.address,z=D.image,B=(0,a.useCallback)((function(e,t){S((0,c.Z)((0,c.Z)({},D),{},(0,i.Z)({},t,e))),W(e,L,_,z)}),[D]),F=(0,a.useCallback)((function(e,t){S((0,c.Z)((0,c.Z)({},D),{},(0,i.Z)({},t,e))),W(T,L,e,z)}),[D]),H=(0,a.useCallback)((function(e,t){S((0,c.Z)((0,c.Z)({},D),{},(0,i.Z)({},t,e))),W(T,e,_,z)}),[D]),O=(0,a.useCallback)((function(e,t){S((0,c.Z)((0,c.Z)({},D),{},(0,i.Z)({},t,e))),W(T,L,_,e)}),[D]),R=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(a){var s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),(s=new FormData).append("title",T),s.append("descrition",L),s.append("address",_),s.append("userID",k),s.append("image",z),e.prev=7,e.next=10,I("api/places/","POST",s,{Authorization:"Breare "+y});case 10:e.sent.success?(t("Place is successfully added!","Success"),setTimeout((function(){n()}),2e3),g("/".concat(k,"/places"))):(t("Something is wrong, try again later!","Danger"),setTimeout((function(){n()}),2e3)),e.next=16;break;case 14:e.prev=14,e.t0=e.catch(7);case 16:case"end":return e.stop()}}),e,null,[[7,14]])})));return function(t){return e.apply(this,arguments)}}(),W=function(e,t,n,a){e.length>=2&&t.length>=8&&n.length>=5&&a.name?N(!0):N(!1)};return(0,v.jsxs)("div",{children:[w&&(0,v.jsx)(Z.Z,{}),(0,v.jsxs)("form",{onSubmit:R,children:[(0,v.jsx)(h.Z,{title:"Name of Place",id:"name",type:"text",placeholder:"Enter name of place",required:!0,onInput:B,length:5}),(0,v.jsx)(h.Z,{title:"Address",id:"address",type:"text",placeholder:"Enter address of place",required:!0,onInput:F,length:10}),(0,v.jsx)(h.Z,{title:"Description",id:"description",type:"text",placeholder:"Write something about it",required:!0,textarea:!0,onInput:H,length:20}),(0,v.jsx)(x.Z,{id:"image",onInput:O}),(0,v.jsx)(m.Z,{name:"Add Place",outline:!0,type:"primary",activate:E})]})]})};var j=function(){var e=(0,d.s0)(),t=(0,o.v9)((function(e){return e})).userLogin.userId;return(0,a.useEffect)((function(){t||e("/")}),[t,e]),(0,v.jsxs)("div",{className:"container my-3",style:{width:"70vw"},children:[(0,v.jsx)("h2",{className:"text-center my-2",children:"Add New Place Here"}),(0,v.jsx)(g,{})]})}}}]);
//# sourceMappingURL=253.db27a13a.chunk.js.map